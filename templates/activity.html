{% extends 'base.html' %}

{% block content %}

<div name='whole form' class='jumbotron'>
  <h3>Activity log for contact: {{contact_name}}</h3>
  <br>
  <form method="POST" name="save-log-form" action="{{url_for('add_log' , contact_id = contact_id)}}">
    <input type="date" name="date" id="">
    <input type="time" name="time" id="">
    <input type="text" name="description">
    <select name="action" id="">
      <option value="email">Email</option>
      <option value="call">Call</option>
      <option value="--">--</option>
      <option value="--">--</option>
    </select>
    <button class="btn-primary" type="submit" name="save-log-button" value="{{contact_id}}">SAVE</button>
  </form>
</div>


<div name="table" class="table">

  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Action</th>
        <th scope="col">Note</th>
        <th scope="col">Date and Time</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        {% for i , dic in enumerate(history_list , start=1) %}
        <td> {{i}} </td>
        <td>{{dic['action']}}</td>
        <td>{{dic['description']}}</td>
        <td>{{dic['datetime']}}</td>
      </tr>
      {% endfor %}

    </tbody>
  </table>



  <div id="myPlot"></div>

</div>

{% endblock content %}


{% block fig %}

<script>
  Plotly.newPlot("myPlot", {{ json_fig | safe}})
</script>

{% endblock fig %}